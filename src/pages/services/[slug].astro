---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Button from '../../components/ui/Button.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const services = await getCollection('services');
  return services.map((service) => ({ params: { slug: service.slug }, props: { service } }));
}

const { service } = Astro.props;
const { Content } = await service.render();
---

<BaseLayout title={`${service.data.seoTitle}`} description={service.data.seoDescription}>
  <section class="bg-surface">
    <div class="mx-auto max-w-5xl px-4 py-12 md:py-16 space-y-4">
      <p class="text-sm uppercase tracking-wide text-primary font-semibold">{service.data.category}</p>
      <h1 class="text-4xl font-heading text-neutral">{service.data.title}</h1>
      <p class="text-lg text-gray-700">{service.data.heroTagline}</p>
      <div class="flex gap-3">
        <Button href="/new-patients" variant="primary">Request appointment</Button>
        <Button href="/contact" variant="outline">Ask a question</Button>
      </div>
    </div>
  </section>
  <section class="bg-white">
    <div class="mx-auto max-w-3xl px-4 py-12 md:py-16 prose">
      <Content />
      <div class="mt-8 grid gap-4 md:grid-cols-2">
        <div class="rounded-2xl bg-background p-4 ring-1 ring-gray-100">
          <p class="text-sm font-semibold text-neutral mb-2">Who it helps</p>
          <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
            <li>Patients seeking comfort-focused care in Sampletown</li>
            <li>People wanting predictable, modern treatment options</li>
            <li>Those looking for clear timelines and transparent costs</li>
          </ul>
        </div>
        <div class="rounded-2xl bg-background p-4 ring-1 ring-gray-100">
          <p class="text-sm font-semibold text-neutral mb-2">Why BrightSide</p>
          <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
            <li>Digital workflows and gentle techniques</li>
            <li>Comfort options and responsive team</li>
            <li>Flexible financing and insurance guidance</li>
          </ul>
        </div>
      </div>
      <div class="mt-6 flex flex-wrap gap-3">
        <Button href="/new-patients" variant="primary">Request appointment</Button>
        <Button href="/contact" variant="outline">Call our office</Button>
      </div>
    </div>
  </section>
</BaseLayout>
